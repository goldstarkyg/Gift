<div ng-controller="AlarmController" style="{{full_height}}">
    <div class="wrapper-md1 bg-light b-b">
        <h1 class="m-n font-thin h3">Alarm</h1>
    </div>
    <div class="wrapper-md1">
        <div class="col-lg-6 col-centered">
            <div class="panel panel-default">
                <div class="panel-heading font-bold">Alarm Group</div>
                <div class="panel-body">
                    <form class="form-horizontal form-validation">
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Alarm Group</label>
                            <div class="col-lg-10">
                                <input type="text" ng-model="alarm_group_name" class="form-control input-sm" style="width: 200px"
                                       uib-popover="Please input alarm group" popover-trigger="mouseenter" popover-placement="right"
                                       uib-typeahead="alarmgroup.name for alarmgroup in getAlarmGroupList($viewValue)"
                                       typeahead-min-length="0"
                                       typeahead-on-select="onGroupSelect($item, $model, $label)" required>

                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Message</label>
                            <div class="col-lg-10">
                                <input type="text" ng-model="alarm_group.description" class="form-control input-sm" disabled>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Members</label>
                            <div class="col-lg-10" >
                                <tags-input ng-model="users" disabled="true" placeholder=""></tags-input>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Comment</label>
                            <div class="col-lg-10">
                                <textarea class="form-control input-sm" rows="1" ng-model="comment" style="resize:none"></textarea>
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <div class="pull-right" style="margin-right: 20px">
                                <button type="submit" class="btn btn-primary" ng-click="onSendAlarm()">&nbsp;&nbsp;&nbsp;&nbsp;Send&nbsp;&nbsp;&nbsp;&nbsp;</button>
                                <button type="submit" class="btn btn-default">Cancel</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Alarm Notifications</div>
            <div class="table table-responsive">
                <table  st-table="alarmlist"  st-pipe="getAlarmList" class="table ticket">
                    <thead >
                        <tr >
                            <th st-sort="id" st-sort-default="reverse"><b>ID</b></th>
                            <th st-sort="time"><b>Date</b></th>
                            <th st-sort="time"><b>Time</b></th>
                            <th st-sort="name"><b>Group</b></th>
                            <th st-sort="message"><b>Message</b></th>
                            <th st-sort="username"><b>Sent by</b></th>
                        </tr>
                    </thead>
                    <tbody ng-hide="isLoading">
                        <tr class="" ng-repeat="row in alarmlist">
                            <td style="width: 40px">
                                <a>{{row.id}}</a>
                            </td>
                            <td class="col-sm-1">{{getDate(row)}}</td>
                            <td class="col-sm-1">{{getTime(row)}}</td>
                            <td class="col-sm-1">{{row.group_name}}</td>
                            <td>{{row.message}}</td>
                            <td class="col-sm-1">{{row.wholename}}</td>
                        </tr>
                    </tbody>
                    <tbody ng-show="isLoading">
                    <tr>
                        <td colspan="6" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
                    </tr>
                    </tbody>
                    <tfoot ng-hide="isLoading">
                        <tr ng-show="paginationOptions.totalItems > paginationOptions.pageSize">
                            <td colspan="6" class="text-center">
                                <div st-pagination="" st-items-by-page="paginationOptions.pageSize" st-displayed-pages="7" class="no-margin"></div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
