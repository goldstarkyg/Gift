<!--<style>
    .call_div{
        height:50px;
    }
    .profileinput {
        width:150px;
    }
</style>-->
<div  ng-controller="AgentStatusController">
	<script type="text/ng-template" id="imageLoadModal.html">
        <div ng-include="'tpl/calls/modal/call_imageload.html'"></div>
    </script>
    <div class="row clear-me">
        <!------------------------------- left ------------------------------------------->
        <div class="col-md-8">
            <!--top-->
            <div class="col-md-12" style="margin: 0; padding: 0">
                <div class="row row-sm text-center" style="margin: 0; padding: 0">
                    <div class="col-md-2">
                        <a href class="block panel padder-v item card bg-dark" style="margin-bottom: 0px; border-radius: 6px" ng-click="onSelectCategory('Answered')">
                            <span class="text-success font-thin h1 block">{{answered}}</span>  <!-- Dummy Need to have Actual count -->
                            <span class="text-muted text-xs">Answered</span>
                        </a>
                    </div>
                    <div class="col-md-2">
                        <a href class="block panel padder-v item card bg-dark" style="margin-bottom: 0px; border-radius:6px" ng-click="onSelectCategory('Abandoned')">
                            <span class="text-danger font-thin h1 block">{{abandoned}}</span> <!-- Dummy Need to have Actual count -->
                            <span class="text-muted text-xs">Abandoned</span>
                        </a>
                    </div>

                    <div class="col-md-2">
                        <a href class="block panel padder-v item card bg-dark" style="margin-bottom: 0px; border-radius:6px"  ng-click="onSelectCategory('Follow Up')" >
                            <span class="text-warning font-thin h1 block">{{followup}}</span> <!-- Dummy Need to have Actual count -->
                            <span class="text-muted text-xs">Follow Up</span>
                        </a>
                    </div>
                    <div class="col-md-2">
                        <a href class="block panel padder-v item card bg-dark" style="margin-bottom: 0px; border-radius:6px" ng-click="getCallbackList()" >
                            <span class="text-danger font-thin h1 block">{{callback}}</span> <!-- Dummy Need to have Actual count -->
                            <span class="text-muted text-xs">Callback</span>
                        </a>
                    </div>
                    <div class="col-md-2">
                        <a href class="block panel padder-v item card bg-dark" style="margin-bottom: 0px; border-radius:6px" ng-click="onSelectCategory('Queue')">
                            <span class="text-info font-thin h1 block">{{queue}}</span> <!-- Dummy Need to have Actual count -->
                            <span class="text-muted text-xs">Queue</span>
                        </a>
                    </div>
                    <div class="col-md-2">
                        <a href class="block panel padder-v item card bg-dark" style="margin-bottom: 0px; border-radius:6px" ng-click="onSelectCategory('')">
                            <span class="text-info font-thin h1 block"><i class="fa fa-search"></i></span> <!-- Dummy Need to have Actual count -->
                            <span class="text-muted text-xs">Search</span>
                        </a>
                    </div>
                </div>
                
            </div>
            <!--under table about  history-->
            <div class="col-md-12 table table-responsive" 
	            ng-show="!(agent_status.status == 'Ringing' || agent_status.status == 'Busy' || agent_status.status == 'Wrapup' || agent_status.status == 'Outgoing')"
		        style="position: relative; overflow-y: auto;">
                <div class="line line-dashed b-b line-lg"></div>
                <div class="wrapper bg-light lter b-b">
                    <div class="btn-group pull-right">
                        <button type="button" class="btn btn-sm btn-bg btn-default">
                            {{paginationOptions.numberOfPages}}/{{paginationOptions.countOfPages}} - {{paginationOptions.totalItems}} Items
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onPrevPage()" ng-disabled="paginationOptions.numberOfPages <= 1">
                            <i class="fa fa-chevron-left"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onNextPage()" ng-disabled="paginationOptions.numberOfPages >= paginationOptions.countOfPages">
                            <i class="fa fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="btn-toolbar">
                        <!--<div class="btn-group dropdown">
                            <a class="btn btn-sm btn-info w-xs font-bold">Call Logs</a>
                        </div>-->
                        <div class="btn-group">
                            <button class="btn btn-sm btn-bg btn-default" data-toggle="tooltip" data-placement="bottom" data-title="Refresh" data-original-title="" title="" ng-click="getDataList()">
                                <i class="fa fa-refresh"></i>
                            </button>
                        </div>
                        <div class="input-group col-md-2 pull-left">
                            <input type="text" ng-model="searchtext" ng-keyup="onSearch()" class="form-control input-sm bg-light no-border rounded padder" placeholder="Search">
                              <span class="input-group-btn">
                                <button type="submit" class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>
                              </span>
                        </div>
                    </div>
                </div>
                <table  st-table="guestlist" st-pipe="getDataList"
	                class="table table-striped b-t b-light"
		            style="margin: 0; padding: 0; height: 100%; border: 1px solid; font-size: .8vw">
                    <thead class="tblhead-sm">
                        <tr >
                            <th style="text-align:center" st-sort="ivr.id" st-sort-default="reverse">Ticket</th>
                            <th style="text-align:center" st-sort="stat_date_time">Time</th>
                            <th style="text-align:center">Duration</th>
                            <th style="text-align:center">Name</th>
                            <th style="text-align:center">Caller ID</th>
                            <th style="text-align:center">Phone</th>
                            <th style="text-align:center">Email</th>
                            <th style="text-align:center">Company</th>
                            <th style="text-align:center">Type</th>
                            <th style="text-align:center">Success</th>
                            <th style="text-align:center">Confirm</th>
                            <th style="text-align:center" style="white-space: nowrap">Agent</th>
                        </tr>
                    </thead>
                    <tbody ng-hide="isLoading">
                        <tr  ng-repeat="row in datalist" >
                            <td align="center"> {{Ticketnumber(row.ticketid)}}</td>
                            <td align="center"> {{row.cutime}}</td>
                            <td align="center"> {{row.duration}}</td>
                            <td align="center"> {{row.tickname}}</td>
                            <td align="center"> {{row.callerid}}</td>
                            <td align="center"> {{row.mobile}}</td>
                            <td align="center"> {{row.email}}</td>
                            <td align="center"> {{row.companyname}}</td>
                            <td align="center"> {{row.type}}</td>
                            <td align="center"> {{row.success}}</td>
                            <td align="center"> {{row.confirm}} </td>
                            <td align="center"> {{row.agentname}}</td>
                        </tr>

                    </tbody>
                    <tbody ng-show="isLoading">
                        <tr>
                            <td colspan="11" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
                        </tr>
                    </tbody>
                    <tfoot ng-hide="true">
                        <tr ng-show="paginationOptions.totalItems > paginationOptions.pageSize" >
                            <td colspan="11" class="text-center">
                                <div st-pagination="" st-items-by-page="paginationOptions.pageSize" st-displayed-pages="7" class="no-margin"></div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <!--active call form about customer-->
            <div class="col-md-12 clear-side" ng-show="agent_status.status == 'Ringing' || agent_status.status == 'Busy' || agent_status.status == 'Wrapup' || agent_status.status == 'Outgoing'" style="padding-top: 50px">
                <!--<div class="line line-dashed b-b line-lg"></div>-->

                <div>
                    <!--<div class="text-center"> ACTIVE CALL </div>-->
                    <div>
                        <form class="form-horizontal form-validation" ng-submit="onSaveProfile()">
                            <!--call info-->
                            <div class="col-md-5 clear-me">
                                <!--<div class="col-md clear-me">Ticket # {{getCallTicketID(agent_status)}}</div>-->
                                <fieldset style="padding-left: 20px;padding-right: 20px;">
                                <legend>Caller Info</legend>

                                <div class="form-group clear-me">

                                    <div class="col-sm-12 clear-me">
                                        <!--image sector-->
                                        <div class="col-sm-5 clear-me">
                                            <div class="col-sm-12 clear-me">
                                                <img src="{{agent_status.caller.image}}" height="130vw" width="130vw" style="border: 1px solid #e4e4e4" ng-click="onShowImage()" />
                                            </div>

                                            <div class ="col-sm-12 form-group clear-side"
                                                style="margin-top: -2px;">
                                                <label class="col-sm-12 control-label text-left" style="font-size:10px;"> Nationality </label>
                                                <div class="col-sm-12">
                                                    <select class="input-info" style="width: 9vw" ng-model="agent_status.caller.national" ng-options="name for name in countrylist">
                                                    </select>
                                                </div>
                                            </div>

                                            <div class ="col-sm-12 form-group"
                                                style="padding-right: 0px; margin-right: 0px; margin-left: 0px; padding-left: 0px;
                                                margin-top: -18px;">
                                                <label class="col-sm-12 control-label text-left clear-me" style="font-size:10px;"> Mobile </label>

                                                <div class="col-sm-12 input-group clear-me">
                                                    <span class="input-group-addon clear-hor clear-side">
                                                        <input type="checkbox" ng-model="mobile_flag" >
                                                    </span>
                                                    <input ng-disabled="!mobile_flag" type="text" ng-model="agent_status.caller.mobile"
                                                           class="form-control input-info"
                                                           placeholder="+xx xxxx xxxxx">
                                                </div>
                                            </div>
                                        </div>
                                        <!--profile sector-->
                                        <div class="col-sm-7 clear-me" style="margin-top: -8px;">
                                            <div class ="col-sm-4 form-validation clear-side">
                                                <label class="col-sm-12 control-label text-left" style="font-size:10px;"> Salutation </label>
                                                <div class="col-sm-5">
                                                    <select ng-model="agent_status.caller.salutation">
                                                        <option value="Mr.">Mr.</option>
                                                        <option value="Mrs.">Mrs.</option>
                                                        <option value="Ms.">Ms.</option>
                                                        <option value="Miss.">Miss.</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="checkbox" style="float: right; margin-top: -22px">
                                                <div>
                                                    <label>
                                                    <input class="form-group" type="checkbox"  ng-model="agent_status.caller.spam" checked>
                                                    Spam
                                                    </label>
                                                </div>
                                            </div>
                                            <div class ="col-sm-12 form-validation clear-side"
                                                style="margin-top: -3px;">
                                                <label class="col-sm-12 control-label text-left" style="font-size:10px;"> First Name </label>
                                                <div class="col-sm-12">
                                                    <input type="text" ng-model="agent_status.caller.firstname"
                                                        class="form-control input-info"
                                                        placeholder="">
                                                </div>
                                            </div>
                                            <div class ="col-sm-12 form-validation clear-side"
                                                style="margin-top: -3px;">
                                                <label class="col-sm-12 control-label text-left" style="font-size:10px;"> Last Name </label>
                                                <div class="col-sm-12">
                                                    <input type="text" ng-model="agent_status.caller.lastname"
                                                        class="form-control input-info"
                                                        placeholder="">
                                                </div>
                                            </div>
                                            <div class ="col-sm-12 form-validation clear-side"
                                                style="margin-top: -3px;">
                                                <label class="col-sm-12 control-label text-left" style="font-size:10px;"> Email </label>
                                                <div class="col-sm-12">
                                                    <input type="text" ng-model="agent_status.caller.email"
                                                        class="form-control input-info"
                                                        placeholder="">
                                                </div>
                                            </div>

                                            <div class ="col-sm-12 form-validation clear-side"
                                                style="margin-top: -3px;">
                                                <label class="col-sm-12 control-label text-left" style="font-size:10px;"> Fixed Phone </label>

                                                <div class="col-sm-10 input-group clear-me" style="margin-left: 7%">
                                                    <span class="input-group-addon clear-hor clear-side">
                                                        <input type="checkbox" ng-model="phone_flag" >
                                                    </span>
                                                    <input ng-disabled="!phone_flag" type="text" ng-model="agent_status.caller.phone"
                                                           class="form-control input-info"
                                                           placeholder="+xx xxxx xxxxx">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class ="col-sm-12 form-validation clear-me" style="margin-top: -15px;">
                                        <!--<div class="col-md clear-me">Ticket # {{getCallTicketID(agent_status)}}</div>-->

                                        <label class="col-sm-12 control-label text-left"
                                            style="font-size:10px; margin-left: -15px;">
                                                Company
                                        </label>
                                        <div class="col-sm-12 input-group clear-me">
                                            <span class="input-group-addon clear-hor clear-side">
                                                <input type="checkbox" ng-model="agent_status.caller.company" >
                                            </span>
                                            <input type="text" ng-model="agent_status.caller.companyname"
                                                   ng-disabled="!agent_status.caller.company"
                                                class="form-control input-info col-sm-12"
                                                placeholder=""
                                                style="width:100%;">
                                        </div>
                                    </div>
                                    <div class ="col-sm-12 form-validation clear-me"
                                        style="margin-top: -3px;">
                                        <label class="col-sm-12 control-label text-left clear-me" style="font-size:10px;"> Address </label>
                                        <div class="col-sm-12 clear-me">
                                            <input type="text" ng-model="agent_status.caller.address"
                                                class="form-control input-info"
                                                placeholder="">
                                        </div>
                                    </div>
                                 </div>
                                </fieldset>
                            </div>

                            <!--profile-->
                            <div class="col-md-7" style="padding-left:15px">
							<div class="text-center"><label style="font-size:1vw">ACTIVE CALL</label></div>
								<div class="col-md clear-me"><b>Ticket #</b><label style="color:orange">&nbsp;&nbsp;{{getCallTicketID(agent_status)}}</label></div>
                                   <div class="call_div" style="margin-top: 25px;">
                                       <label class="col-sm-3 control-label">Type</label>
                                       <label class="col-sm-7">
                                           <select class="input-sm form-control" ng-model="ticket.type"  >
                                               <option>Other</option>
                                               <option>Inquiry</option>
                                               <option>Booking</option>
                                               <option>Modify</option>
                                           </select>
                                       </label>
                                   </div>
                                   <div class="call_div">
                                       <label class="col-sm-3 control-label">Comment</label>
                                       <label class="col-sm-7">
                                           <textarea rows="8" cols="30" class="form-control" ng-model="ticket.comment" />
                                       </label>
                                   </div>
                                   <div>
                                       <label class="col-sm-3 control-label" style="white-space: nowrap">Modify</label>
                                       <div class="col-sm-7 call_div checkbox">
                                           <label class="form-check-label">
                                               <input type="checkbox" class="form-check-input" ng-model="ticket.follow" >
                                           </label>
                                       </div>
                                   </div>
                                   <div class="call_div">
                                       <label class="col-sm-3 control-label">Success</label>
                                       <div class="col-sm-7 call_div" >
                                           <label class="i-switch m-t-xs m-r">
                                               <input type="checkbox" ng-model="ticket.success" class="form-control" checked>
                                               <i></i>
                                           </label>
                                       </div>
                                   </div>
                                   <div ng-show="ticket.success">
                                       <label class="col-sm-3 control-label">Confirmation #</label>
                                       <div class="call_div col-sm-5">
                                       <label>
                                           <input type="text"  ng-model="ticket.confirm" style="width: 200px" class="form-control input-sm">
                                       </label>
                                       </div>
                                   </div>
                                   <div ng-show="ticket.success" class="col-sm-12"
										style="padding-left:5px">
                                       <label class="col-sm-3 control-label">Send Confirmation</label>
                                       <div class="col-sm-5">
                                       <label>
                                           <select class="input-sm form-control"  ng-model="ticket.sendconfirm" >
                                               <option>Email</option>
                                               <option>SMS</option>
                                           </select>
                                       </label>
                                       </div>
                                   </div>
                                   <div class="line line-dashed b-b line-lg pull-in"></div>
                                   <div class="form-group">
                                       <div class="pull-right" style="margin-right: 70px">
                                           <button type="submit" class="btn btn-primary" >&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;&nbsp;&nbsp;</button>
                                       </div>
                                   </div>

                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!---------------------------right------------------------------------------------------------------------------------------------------>
        <div class="col-md-4">
            <div class="" style="height:50%;">

				<div class="panel panel-default">
		            <div class="panel-heading bg-page bg-gd-dk"
			            style="border-radius: 6px 6px 0px 0px;">
		              	<div class="clearfix">
			                <a href class="pull-left thumb-md avatar b-3x m-r">
				                <img src="{{agent_profile.picture}}" alt="...">
			                </a>
			                <div class="clear"> 
				                <div class="h3 m-t-xs m-b-xs">
				                    <span class="hidden-xs hidden-sm">{{agent_status.wholename}} </span>
				                    
									<i class="fa fa-circle text-info pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='Online'"></i>
									<i class="fa fa-circle text-success pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='Available'"></i>
									<i class="fa fa-circle text-danger pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='Busy'"></i>
									<i class="fa fa-circle text-danger pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='Outgoing'"></i>
                                    <i class="fa fa-circle text-danger pull-right text-xs m-t-sm"
                                       ng-if="agent_status.status=='Ringing'"></i>
									<i class="fa fa-circle text-warning pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='Idle'"></i>
									<i class="fa fa-circle text-warning pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='On Break'"></i>
									<i class="fa fa-circle text-default pull-right text-xs m-t-sm"
										ng-if="agent_status.status=='Log out'"></i>
                                    <i class="fa fa-circle text-info pull-right text-xs m-t-sm" style="color: #337ab7"
                                       ng-if="agent_status.status=='Wrapup'"></i>
								</div>
								<div class="row-md form-horizontal" style="margin-top: -6px; margin-left: -19px">
								<div class="col-sm-6">
				                    <label class="label bg-info m-l-xs" ng-if="agent_status.status=='Online'">
				                        <i class="icon-power"></i>&nbsp;&nbsp;Online
				                    </label>
				                    <label class="label bg-success m-l-xs" ng-if="agent_status.status=='Available'">
				                        <i class="fa fa-check"></i>&nbsp;&nbsp;Available
				                    </label>
				                    <label class="label bg-danger m-l-xs" ng-if="agent_status.status=='Busy'">
				               	        <i class="icon-earphones-alt"></i>&nbsp;&nbsp;Busy
				                    </label>
				                    <label class="label bg-danger m-l-xs"  ng-if="agent_status.status=='Ringing'">
				                        <i class="icon-call-in"></i>&nbsp;&nbsp;Ringing
				                    </label>
                                    <label class="label bg-danger m-l-xs"  ng-if="agent_status.status=='Outgoing'">
                                        <i class="icon-call-out"></i>&nbsp;&nbsp;Outgoing
                                    </label>
									<label class="label bg-warning m-l-xs"  ng-if="agent_status.status=='Idle'">
				                        <i class="fa fa-asterisk"></i>&nbsp;&nbsp;Idle
				                    </label>
				                    <label class="label bg-warning m-l-xs"  ng-if="agent_status.status=='On Break'">
				                        <i class="fa fa-coffee"></i>&nbsp;&nbsp;On Break
				                    </label>
				                    <label class="label bg-default m-l-xs"  ng-if="agent_status.status=='Log out'">
				                        <i class="icon-logout"></i>&nbsp;&nbsp;Log out
				                    </label>
                                    <label class="label label-primary m-l-xs"  ng-if="agent_status.status=='Wrapup'">
                                        <i class="fa fa-pencil"></i>&nbsp;&nbsp;Wrapup
                                    </label>
				                </div>
			                    </div>
			                </div>
		              	</div>
		            </div>
		            <div class="list-group no-radius alt">
						<a class="list-group-item" href>
							<span class="badge bg-success">{{elapse_time | duration:'hh:mm:ss'}}</span>
							<i class="fa fa-clock-o fa-fw text-muted"></i> 
							Duration
						</a>
						<a class="list-group-item" href>
							<div class="pull-right">
								<select class='input-sm' style="margin-top: -5px; " ng-if="extension_status != 'Transfer'"
									ng-model="agent_status.extension" ng-disabled="select_status_view || agent_status.status == 'Log out'" ng-change="onChangeExtension(agent_status.extension)" ng-options="ext for ext in extensionlist">
								</select>
                                <select class='input-sm' style="margin-top: -5px; " ng-if="extension_status == 'Transfer'"
                                        ng-model="agent_status.extension" ng-disabled="select_status_view || agent_status.status == 'Log out'" ng-change="onChangeExtension(agent_status.extension)" ng-options="ext for ext in extensionlist">
                                </select>
                                <!--
                                <button class="btn btn-default btn-sm" ng-click="onChangeExtension(agent_status.extension)">
                                    <i class="glyphicon glyphicon-share-alt"></i>
                                </button>-->
							</div>
							<i class="glyphicon glyphicon-phone-alt fa-fw text-muted"></i>
							Extension
						</a>
						<div class="list-group-item">
							<!--<div class="pull-right" style="margin-top: -5px; display:inline-block">-->
							   <!--<select ng-model="select_status"-->
									<!--ng-options="type for type in statuses" ng-change="changeProperty()" required  ng-disabled="select_status_view" >-->
									<!--<i class="icon-login"></i></button>-->
								<!--</select>-->
								<!---->
								<!--<button class="btn btn-default btn-sm" ng-click="onChangeCallStatus()">-->
									<!--<i class="glyphicon glyphicon-share-alt"></i>-->
								<!--</button>-->
							<!--</div>-->

                            <div  class="pull-right" style="margin-top: -5px; display:inline-block">
                                <div class="btn-group" uib-dropdown>
                                    <button type="button" class="btn btn-success btn-sm"  style="{{status_color}}" >{{select_status}}</button>
                                    <button type="button" class="btn btn-success btn-sm" style="{{status_color}}" uib-dropdown-toggle ng-disabled="select_status_view">
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu" >
                                        <li class="stclick" ng-repeat="status in statuses"  ng-click="onChangeCallStatus(status)"><a href>{{status}}</a></li>
                                    </ul>
                                </div>
                            </div>
							<i class="fa fa-cog fa-fw text-muted"></i>
							Change Status
						</div>
                      </div>
                      <div class=""   ng-include="'tpl/calls/dial_number.html'"> </div>
                      <!--<div class="" ng-if="extension_status == 'Transfer'"  ng-include="'tpl/calls/dial_number.html'"> </div>-->
		              <div class="" ng-show="agent_status.status == 'Ringing' || agent_status.status == 'Busy'">
                               <div class="hbox text-center b-light b-b" ng-show="agent_status.status == 'Ringing'">
                                      <a href class="col padder-v bg-success text-muted b-r b-light" style="width: 50%"  ng-click="etssip.phoneCallButtonPressed()">
                                          <div class="h4">
                                              <i class="fa fa-phone" style="color:#2e3344"></i>
                                          </div>
                                          <span style="color:#2e3344">Answer</span>
                                      </a>
                                      <a href class="col padder-v bg-danger text-muted b-r b-light" style="width: 50%" ng-click="onClickHoldResume()">
                                          <div class="h4">
                                              <i class="fa fa-stop" style="color:#2e3344"></i>
                                          </div>
                                          <span style="color:#2e3344">Reject</span>
                                      </a>

                               </div>
                               <div class="hbox text-center b-light b-b" ng-show="agent_status.status == 'Busy'">
                                    <a href class="col padder-v bg-warning text-muted b-r b-light" style="width: 50%" ng-click="onClickHoldResume()">
                                        <div class="h4">
                                            <i ng-if="agent_status.ticket.dial_status == 'Answered'" class="fa fa-pause" style="color:#2e3344"></i>
                                            <i ng-if="agent_status.ticket.dial_status == 'Hold'" class="fa fa-play" style="color:#2e3344"></i>
                                        </div>
                                        <span ng-if="agent_status.ticket.dial_status == 'Answered'" style="color:#2e3344">Hold</span>
                                        <span ng-if="agent_status.ticket.dial_status == 'Hold'" style="color:#2e3344">Resume</span>
                                    </a>
                                    <a href class="col padder-v bg-info text-muted b-r b-light" style="width: 50%" ng-click="onClickMuteUnmute()">
                                        <div class="h4">
                                            <i ng-if="agent_status.ticket.mute_flag == 0" class="fa fa-microphone-slash" style="color:#2e3344"></i>
                                            <i ng-if="agent_status.ticket.mute_flag == 1" class="fa fa-microphone" style="color:#2e3344"></i>
                                        </div>
                                        <span ng-if="agent_status.ticket.mute_flag == 0" style="color:#2e3344">Mute</span>
                                        <span ng-if="agent_status.ticket.mute_flag == 1" style="color:#2e3344">UnMute</span>
                                    </a>
                                    <!--<a href class="col padder-v bg-info text-muted b-r b-light" style="width: 50%" ng-click="onClickConference()">
                                        <div class="h4"><i class="fa fa-group"></i></div>
                                        <span>Conference</span>
                                    </a>-->
                              </div>
            		
                              <div class="hbox text-center b-light " ng-show="agent_status.status == 'Busy'">
                                    <a href class="col padder-v bg-success text-muted b-r b-light" style="width: 50%;background: #d0d0d1" ng-click="onClickExtension()">
                                        <div class="h4"><i class="fa fa-mail-forward" style="color:#2e3344"></i></div>
                                        <span style="color:#2e3344">Transfer</span>
                                    </a>
                                    <a href class="col padder-v bg-danger text-muted b-r b-light" style="width: 50%" ng-click="onClickHangup()">
                                        <div class="h4"><i class="icon-call-end" style="color:#2e3344"></i></div>
                                        <span style="color:#2e3344">Hangup</span>
                                    </a>
                              </div>
                              <!--<div  ng-show="extension_status == 'Transfer'"   style="background-color:#2a2a2a; height: 50px;" >-->
                                  <!--<div class="col-md-2" style="font-size: 18px;color: #ffffff;margin-top: 10px;" >-->
                                      <!--&lt;!&ndash;Extension&ndash;&gt;-->
                                  <!--</div>-->
                                 <!--<div class="col-md-6" >-->
                                     <!--&lt;!&ndash;<input type="text" maxlength="4"  ng-model="transfer_number"&ndash;&gt;-->
                                            <!--&lt;!&ndash;style="color:#ffffff;font-size:18px;margin: 10px;height: 30px; width: 100%;background-color: #595858;border:1px solid #a4a3a3" />&ndash;&gt;-->
                                 <!--</div>-->
                                  <!--<div class="h4 col-md-4" >-->
                                     <!--<button class="btn m-b-xs w-xs btn-success col-md-offset-2"-->
                                              <!--style="width: 5vw;background-color:#454545;margin-top: 10px;border:1px solid #a4a3a3 "-->
                                              <!--ng-click="onClickTransfer()" >-->
                                          <!--<i class="fa fa-phone"></i>-->
                                          <!--&nbsp;&nbsp;Send-->
                                    <!--</button>-->
                                  <!--</div>-->
                              <!--</div>-->
		              </div>
		            </div>
		          
          <div>
            <div class="col-md-12 table table-responsive"  style="height: 400px; width: 100%" ng-show="agent_status.status == 'Ringing' || agent_status.status == 'Busy'">
                    <div style="font-size: 15px; ">Caller History</div>
                    <table  st-table="guestlist" st-pipe="getDataListSecond" class="table ticket table-striped b-t b-light">
                        <thead class="tblhead-sm">
                        <tr>
                            <th st-sort="name">Ticket#</th>
                            <th st-sort="frequency">Date</th>
                            <th>Reason</th>
                            <th>Success</th>
                            <!--<th>Comment</th>-->
                        </tr>
                        </thead>
                        <tbody ng-hide="isLoadingSecond">
                        <tr  ng-repeat="row in datalistSecond" >
                            <td >{{Ticketnumber(row.ticketid)}}</td>
                            <td >{{row.cudate}}</td>
                            <td>Reason</td>
                            <td >{{row.success == 1 ? 'Y' : 'N'}}</td>
                            <!--<td >{{row.comment}}</td>-->
                        </tr>
                        </tbody>
                        <tbody ng-show="isLoadingSecond">
                        <tr>
                            <td colspan="5" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
                        </tr>
                        </tbody>
                        <tfoot ng-hide="isLoadingSecond">
                        <tr ng-show="paginationOptionsSecond.totalItems > paginationOptionsSecond.pageSize">
                            <td colspan="5" class="text-center">
                                <div st-pagination="" st-items-by-page="paginationOptionsSecond.pageSize" st-displayed-pages="7" class="no-margin"></div>
                            </td>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            
                <div class="col-md-12 table table-responsive"  style="height: 400px; width: 100% margin-top: 30px; overflow-x: hidden"
	                ng-show="!(agent_status.status == 'Ringing' || agent_status.status == 'Busy' || agent_status.status == 'Wrapup')">
                    <div  style="font-size: 15px; ">Call Back</div>
                    <table  st-table="callbacklist" st-pipe="getCallbackList" class="table ticket table-striped b-t b-light">
                        <thead class="tblhead-sm">
                        <tr class="text-center" style="padding-left: 2px; padding-right: 2px">
                            <th style="white-space: nowrap" st-sort="name">Ref #</th>
                            <th>Time</th>
                            <!--<th>Reason</th>-->
                            <th>Caller ID</th>
                            <th style="white-space: nowrap">Wait Time</th>
                            <th style="white-space: nowrap">Agent</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody ng-hide="isCallbackLoading">
                        <tr ng-repeat="row in callbacklist" class="text-center">
                            <td >{{Ticketnumber(row.id)}}</td>
                            <td >{{row.time}}</td>
                            <!--<td ></td> -->
                            <td>{{row.callerid}}</td>
                            <td>{{row.waiting}}</td>
                            <td style="white-space: nowrap" ng-if="row.callback_flag == 0 || row.callback_flag == 2">{{row.wholename}}</td>
                            <td ng-if="row.callback_flag == 1"><button class="btn btn-info btn-xs" ng-click="onTakeCallback(row)">Take</button></td>
                            <td ng-if="row.callback_flag == 0">Done</td>
                            <td ng-if="row.callback_flag == 1">Pending</td>
                            <td ng-if="row.callback_flag == 2">Taken</td>
                        </tr>
                        </tbody>
                        <tbody ng-show="isCallbackLoading">
                        <tr>
                            <td colspan="6" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
                        </tr>
                        </tbody>

                    </table>
                </div>
            
        </div>
    </div>
</div>
</div>

